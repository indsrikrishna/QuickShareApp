name: Android CI - Build APK

on:
  push:
      branches: [ main ]
        workflow_dispatch:

        jobs:
          build:
              name: Build debug APK
                  runs-on: ubuntu-latest
                      steps:
                            - name: Checkout
                                    uses: actions/checkout@v4

                                          - name: Setup JDK 17
                                                  uses: actions/setup-java@v4
                                                          with:
                                                                    distribution: temurin
                                                                              java-version: '17'

                                                                                    - name: Build debug APK
                                                                                            working-directory: ./QuickShareApp/app
                                                                                                    run: |
                                                                                                              chmod +x gradlew || true
                                                                                                                        ./gradlew assembleDebug --no-daemon

                                                                                                                              - name: Upload debug APK
                                                                                                                                      uses: actions/upload-artifact@v4
                                                                                                                                              with:
                                                                                                                                                        name: quickshare-apk
                                                                                                                                                                  path: ./QuickShareApp/app/build/outputs/apk/debug/app-debug.apk
                                                                                                                                                                